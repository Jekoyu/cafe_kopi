services:
  app:
    build:
      context: .
      dockerfile: Dockerfile
    container_name: kopi1815-app
    restart: unless-stopped
    ports:
      - "2026:80"
    env_file:
      - .env
    environment:
      - APP_ENV=production
      - APP_DEBUG=false
      - DB_RUN_MIGRATIONS=true
    volumes:
      - app_storage:/var/www/html/storage
    networks:
      - kopi1815

volumes:
  app_storage:

networks:
  kopi1815:
    driver: bridge
